<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AlpineJS bound "select" and access selection data Example</title>
    <link
      href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script
      src="https://unpkg.com/alpinejs@2.0.2/dist/alpine.js"
      defer
    ></script>
  </head>
  <body class="flex flex-row">
    <div x-data="page()" class="w-1/3 flex flex-col p-4" data-reflect-root>
      <h2 class="text-lg font-md mb-16">Demo</h2>
      <div class="flex flex-row">
        <select
          x-model="selectedOption"
          class="inline-block appearance-none bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline w-64"
        >
          <option value="">Select an option</option>
          <template x-for="option in options">
            <option
              :key="option.value"
              :value="option.value"
              x-text="option.text"
            >
            </option>
          </template>
        </select>
        <button
          @click="access()"
          class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
        >
          Access Data
        </button>
      </div>
      <label class="block">Output: "<span x-ref="output"></span>"</label>
      <script>
        function page() {
          return {
            selectedOption: "",
            options: [
              {
                value: "bacon",
                text: "Bacon"
              },
              {
                value: "ham",
                text: "Ham"
              }
            ],
            access() {
              this.$refs.output.innerText = this.selectedOption;
            }
          };
        }
      </script>
    </div>

    <div
      x-data="reflect()"
      data-reflect-ignore
      class="w-2/3 flex flex-col overflow-scroll"
    >
      <h2>Code</h2>
      <button
        @click="toggleShowClass()"
        class="inline-block w-48 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
      >
        <template x-if="showClass">
          <span>Hide classes</span>
        </template>
        <template x-if="!showClass"> <span>Show classes</span></template>
      </button>
      <pre><code class="w-full inline-block" x-text="content()"></code></pre>
      <script src="./reflect.js"></script>
    </div>
  </body>
</html>
